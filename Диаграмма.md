
STEAM
![image](https://github.com/david371k/7.09.23/assets/144510921/6b91d568-98d4-445f-986a-d3d907af6c48)




create table Users ( 
	id bigint primary key, 
	login varchar(16), 
	password text 
);

insert into Users values (1, 'artemm','drydyhrdsrdr'); 
insert into Users values (2, 'artemds','sdhjygfkhvk'); 
insert into Users values (3, 'art5476','dsydthdrftj'); 
insert into Users values (4, 'haideng','deyhfdtjfd'); 
insert into Users values (5, 'control','ryhftdhjdhj'); 
insert into Users values (6, 'povelitel','dhdxfhtuwarf'); 
insert into Users values (7, 'anton','dshdfghftj'); 
insert into Users values (8, 'arte5577','dhmflthjnifo'); 
insert into Users values (9, 'agent228','djnhglkdftjh'); 
insert into Users values (10, 'skill555','dlhjygdftoiuyhmd');

create table game_images ( 
	id bigint primary key, 
	filename text, 
	ismain bool 
);

create table categories ( 
	id bigint primary key,
	title varchar(64) 
); 
insert into categories values (1, 'Бесплатные'); 
insert into categories values (2, 'Демоверсии'); 
insert into categories values (3, 'Ранний доступ');

create table Game ( 
	id bigint primary key, 
	name text, 
	price FLOAT, 
	categories_id int, 
	game_images_id int, 
constraint fk_game_images_game_images_id foreign key (game_images_id) references game_images(id), 
constraint fk_categories_categories_id foreign key (categories_id) references categories(id) );

insert into categories values (1, 'Destiny 2','Бесплатно');
insert into categories values (2, 'Albion Online','Бесплатно'); 
insert into categories values (3, 'STAR WARS™: The Old Republic™','Бесплатно'); 
insert into categories values (4, 'Counter-Strike 2','Бесплатно'); 
insert into categories values (5, 'PUBG: BATTLEGROUNDS','Бесплатно'); 
insert into categories values (6, 'Half Sword',556); 
insert into categories values (7, 'Ruiga Pirates',2698); 
insert into categories values (8, 'Cleanup Crew',633); 
insert into categories values (9, 'ARK: Survival Ascended',784); 
insert into categories values (10, 'VALHEIM',334);
insert into categories values (11, 'READY OR NOT',1500); 
insert into categories values (12, 'LETHAL COMPANY',385); 
insert into categories values (13, '世界终结之后 DEMO','Бесплатно'); 
insert into categories values (14, 'MISSILE DANCER 2 DEMO','Бесплатно'); 
insert into categories values (15, 'EMBERWARD DEMO','Бесплатно'); 
insert into categories values (16, 'ПОЛИГОН РЕАЛЬНОСТИ DEMO','Бесплатно'); 
insert into categories values (17, 'ROCKET SMASH DEMO','Бесплатно'); 
insert into categories values (18, 'BLOOD HUNTING DEMO','Бесплатно'); 
insert into categories values (19, 'BEAMNG.DRIVE',246); 
insert into categories values (20, 'THE OUTLAST TRIALS',919);

create table Status 
( 
	id bigint primary key, 
	Game_id int, 
	Users_id int, 
	statuss varchar default 'offline' not null,
constraint fk_Game_Game_id foreign key (Game_id) references Game(id), 
constraint fk_Users_Users_id foreign key (Users_id) references Users(id) 
);
alter table person add constraint ch_statuss check ( statuss in ('offline','online') );

insert into Status  values (1, 5,'offline'); 
insert into Status  values (2,6,'online'); 
insert into Status  values (3,3,'online'); 
insert into Status  values (4,14,'online'); 
insert into Status  values (5,9,'offline'); 
insert into Status  values (6,18,'online'); 
insert into Status  values (7,7,'offline'); 
insert into Status values (8,13,'online'); 
insert into Status  values (9,20,'offline');
insert into Status  values (10,11,'online'); 




create table history 
( 
	id bigint primary key, 
	Game_id int, 
	price FLOAT, 
	date date, 
	constraint fk_Game_Game_id foreign key (Game_id) references Game(id) );
	
insert into history values (1, 5,'22-10-22'); 
insert into history values (9, 15,'22-10-22'); 
insert into history values (3, 6,'22-10-22'); 
insert into history values (2, 4,'22-10-22'); 
insert into history values (7, 5,'offline'); 
insert into history values (10, 7,'offline'); 
insert into history values (8, 11,'offline'); 
insert into history values (6, 12,'offline'); 

create table profile 
( 
 id bigint primary key, 
 Users_id int, 
 status_id int, 
 history_id int,
 name text,
 email varchar(64),
 Phone_numb varchar(11), 
 City text, 
 constraint fk_Users_Users_id foreign key (Users_id) references Users(id), 
 constraint fk_status_status_id foreign key (status_id) references status(id),
 constraint fk_history_history_id foreign key (history_id) references history(id) 
); 

create table shoppinglist 
( 
	id bigint primary key, 
	Game_id int, profile_id int, 
	Game_date date, 
	constraint fk_Game_Game_id foreign key (Game_id) references Game(id), 
	constraint fk_profile_profile_id foreign key (profile_id) references profile(id) );

create table total
( 
	id bigint primary key ,
	Game_id int, 
	profile_id int, 
	time FLOAT, 
	constraint fk_Game_Game_id foreign key (Game_id) references Game(id),
	constraint fk_profile_profile_id foreign key (profile_id) references profile(id) )
